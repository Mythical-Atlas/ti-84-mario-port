#include <tice.h>
#include <stddef.h>
#include <stdint.h>
#include <stdbool.h>

#include <math.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <ctype.h>

#include <graphx.h>
#include <keypadc.h>

#include "colors.h"
#include "tiles.h"
#include "oneone.h"
#include "mario.h"

/*

mario states/animations

0 = idle
1 = running
2 = skidding

*/

void drawTiles();
void copySprites();

void drawString(char* string, uint16_t sx, uint16_t sy);

void main(void) {
	char mxString[0x10000];
	
	copyTiles();
	copySprites();

	tilemap.map = level;
	tilemap.tiles = (gfx_sprite_t**)tiles;
	tilemap.x_loc = 32;
	tilemap.width = 80;
	tilemap.height = 30;
	tilemap.draw_width = 33;
	tilemap.draw_height = 30;
	tilemap.tile_width = 8;
	tilemap.tile_height = 8;
	tilemap.type_width = gfx_tile_8_pixel;
    tilemap.type_height = gfx_tile_8_pixel;
	
	gfx_Begin(gfx_8bpp);
	gfx_SetTransparentColor(0x40);
	gfx_SetPalette(colors, 129, 0);
	gfx_SetDrawBuffer();
	
	oneone();
	
	while(1) {
		kb_Scan();
		
		if(kb_Data[6] & kb_Clear) {break;}
		
		up = 0;
		left = 0;
		right = 0;
		
		if(kb_Data[7] & kb_Up) {up = 1;}
		if(kb_Data[7] & kb_Left) {left = 1;}
		if(kb_Data[7] & kb_Right) {right = 1;}
		
		updateMario();
		updateMario();
		
		gfx_FillScreen(0x22);
		
		drawTiles();
		drawMario();
		
		gfx_SetColor(0x1f);
		gfx_FillRectangle(0, 0, 32, 240);
		gfx_FillRectangle(320 - 32, 0, 32, 240);
		
		gfx_Blit(gfx_buffer);
	}
	
	gfx_End();
}

void drawTiles() {gfx_Tilemap(&tilemap, x, 0);}

void copySprites() {
	uint8_t tile00[66] = { // small idle right 0
		8, 8,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x27,
		0x40, 0x40, 0x40, 0x18, 0x27, 0x18, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x18, 0x27, 0x18, 0x18, 0x27,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x27, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x27, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x16, 0x18,
	};
	uint8_t tile01[66] = { // small idle right 1
		8, 8,
		0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x16, 0x40, 0x40, 0x40,
		0x27, 0x18, 0x27, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x27, 0x18, 0x27, 0x27, 0x27, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x18, 0x27, 0x27, 0x27, 0x40, 0x40,
		0x27, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x27, 0x27, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
	};
	uint8_t tile02[66] = { // small idle right 2
		8, 8,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x16, 0x18,
		0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x16, 0x16,
		0x40, 0x40, 0x27, 0x27, 0x18, 0x16, 0x27, 0x16,
		0x40, 0x40, 0x27, 0x27, 0x27, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x27, 0x27, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16, 0x40,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x40, 0x40,
		0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40,
	};
	uint8_t tile03[66] = { // small idle right 3
		8, 8,
		0x18, 0x16, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40,
		0x16, 0x27, 0x16, 0x18, 0x27, 0x27, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x27, 0x27, 0x27, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x27, 0x27, 0x40, 0x40,
		0x40, 0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40,
		0x40, 0x40, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40,
	};
	
	uint8_t tile04[66] = { // small idle left 0
		8, 8,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x16, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x27, 0x18, 0x27,
		0x40, 0x40, 0x40, 0x27, 0x27, 0x27, 0x18, 0x27,
		0x40, 0x40, 0x27, 0x27, 0x27, 0x18, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x27,
		0x40, 0x40, 0x40, 0x40, 0x27, 0x27, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x18, 0x18,
	};
	uint8_t tile05[66] = { // small idle left 1
		8, 8,	
		0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40,
		0x27, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x18, 0x27, 0x18, 0x40, 0x40, 0x40,
		0x27, 0x18, 0x18, 0x27, 0x18, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x27, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x27, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x16, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40,
	};
	//      tile02            small idle left 2
	//      tile03            small idle left 3
	
	uint8_t tile06[66] = { // small run 0 right 0
		8, 8,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x27,
		0x40, 0x40, 0x40, 0x18, 0x27, 0x18, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x18, 0x27, 0x18, 0x18, 0x27,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x27, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x27, 0x27, 0x27,
	};
	uint8_t tile07[66] = { // small run 0 right 1
		8, 8,	
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x16, 0x40, 0x40, 0x40,
		0x27, 0x18, 0x27, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x27, 0x18, 0x27, 0x27, 0x27, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x18, 0x27, 0x27, 0x27, 0x40, 0x40,
		0x27, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x27, 0x27, 0x40, 0x40, 0x40, 0x40,
	};
	uint8_t tile08[66] = { // small run 0 right 2
		8, 8,	
		0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x18,
		0x40, 0x40, 0x40, 0x27, 0x18, 0x18, 0x18, 0x18,
		0x40, 0x40, 0x27, 0x27, 0x16, 0x18, 0x18, 0x18,
		0x40, 0x40, 0x18, 0x18, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x18, 0x16, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x18, 0x18, 0x16, 0x16, 0x16, 0x40, 0x16,
		0x40, 0x18, 0x40, 0x40, 0x40, 0x40, 0x18, 0x18,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x18, 0x18,
	};
	uint8_t tile09[66] = { // small run 0 right 3
		8, 8,
		0x16, 0x18, 0x40, 0x27, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x27, 0x27, 0x27, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x27, 0x27, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
	};
	
	uint8_t tile0a[66] = { // small run 1 right 0
		8, 8,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x27,
		0x40, 0x40, 0x40, 0x18, 0x27, 0x18, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x18, 0x27, 0x18, 0x18, 0x27,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x27, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x27, 0x27, 0x27,
		0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x16, 0x16,
	};
	//      tile01            small run 1 right 1
	uint8_t tile0b[66] = { // small run 1 right 2
		8, 8,
		0x27, 0x27, 0x18, 0x18, 0x18, 0x18, 0x16, 0x16,
		0x27, 0x27, 0x27, 0x40, 0x18, 0x18, 0x16, 0x27,
		0x27, 0x27, 0x40, 0x40, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x16, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x18, 0x18, 0x16, 0x16, 0x16, 0x40, 0x40,
		0x40, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40,
		0x40, 0x40, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40,
	};
	uint8_t tile0c[66] = { // small run 1 right 3
		8, 8,
		0x16, 0x18, 0x18, 0x18, 0x27, 0x27, 0x27, 0x40,
		0x16, 0x16, 0x16, 0x18, 0x18, 0x27, 0x27, 0x40,
		0x16, 0x16, 0x16, 0x40, 0x40, 0x18, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x18, 0x18, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x18, 0x18, 0x40, 0x40,
		0x40, 0x16, 0x16, 0x16, 0x18, 0x18, 0x40, 0x40,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
	};
	
	//      tile00            small run 2 right 0
	//      tile01            small run 2 right 1
	uint8_t tile0d[66] = { // small run 2 right 2
		8, 8,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x16,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x16,
		0x40, 0x40, 0x40, 0x16, 0x18, 0x18, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x40, 0x16, 0x18, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x18,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x18,
	};
	uint8_t tile0e[66] = { // small run 2 right 3
		8, 8,
		0x16, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x27, 0x16, 0x16, 0x27, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40,
		0x27, 0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
	};
	
	uint8_t tile0f[66] = { // small run 0 left 0
		8, 8,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x16, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x27, 0x18, 0x27,
		0x40, 0x40, 0x40, 0x27, 0x27, 0x27, 0x18, 0x27,
		0x40, 0x40, 0x27, 0x27, 0x27, 0x18, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x27,
		0x40, 0x40, 0x40, 0x40, 0x27, 0x27, 0x27, 0x27,
	};
	uint8_t tile10[66] = { // small run 0 left 1
		8, 8,	
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40,
		0x27, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x18, 0x27, 0x18, 0x40, 0x40, 0x40,
		0x27, 0x18, 0x18, 0x27, 0x18, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x27, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x27, 0x40, 0x40, 0x40, 0x40, 0x40,
	};
	uint8_t tile11[66] = { // small run 0 left 2
		8, 8,	
		0x40, 0x40, 0x40, 0x40, 0x27, 0x40, 0x18, 0x16,
		0x40, 0x40, 0x40, 0x27, 0x27, 0x27, 0x18, 0x18,
		0x40, 0x40, 0x40, 0x40, 0x27, 0x27, 0x18, 0x18,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x18,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x18, 0x18,
	};
	uint8_t tile12[66] = { // small run 0 left 3
		8, 8,
		0x18, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x18, 0x18, 0x27, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x18, 0x16, 0x27, 0x27, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x18, 0x18, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x16, 0x18, 0x40, 0x40,
		0x16, 0x40, 0x16, 0x16, 0x16, 0x18, 0x18, 0x40,
		0x18, 0x18, 0x40, 0x40, 0x40, 0x40, 0x18, 0x40,
		0x18, 0x18, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
	};
	
	//      tile04            small run 1 left 1
	uint8_t tile13[66] = { // small run 1 left 0
		8, 8,
		0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40,
		0x27, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x18, 0x27, 0x18, 0x40, 0x40, 0x40,
		0x27, 0x18, 0x18, 0x27, 0x18, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x27, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x27, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40,
	};
	uint8_t tile14[66] = { // small run 1 left 2
		8, 8,
		0x40, 0x27, 0x27, 0x27, 0x18, 0x18, 0x18, 0x16,
		0x40, 0x27, 0x27, 0x18, 0x18, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x18, 0x40, 0x40, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x18, 0x18, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x18, 0x18, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x18, 0x18, 0x16, 0x16, 0x16, 0x40,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
	};
	uint8_t tile15[66] = { // small run 1 left 3
		8, 8,
		0x16, 0x16, 0x18, 0x18, 0x18, 0x18, 0x27, 0x27,
		0x27, 0x16, 0x18, 0x18, 0x40, 0x27, 0x27, 0x27,
		0x16, 0x16, 0x16, 0x16, 0x40, 0x40, 0x27, 0x27,
		0x16, 0x16, 0x16, 0x16, 0x16, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x40, 0x40,
		0x40, 0x40, 0x16, 0x16, 0x16, 0x18, 0x18, 0x40,
		0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x40,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x40, 0x40,
	};
	
	//      tile04            small run 2 left 0
	//      tile05            small run 2 left 1
	uint8_t tile16[66] = { // small run 2 left 2
		8, 8,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x27, 0x16, 0x16, 0x27,
		0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16, 0x27,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x18,
		0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x18,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x18,
	};
	uint8_t tile17[66] = { // small run 2 left 3
		8, 8,
		0x16, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x16, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x18, 0x18, 0x16, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x18, 0x16, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40, 0x40,
	};
	
	uint8_t tile18[66] = { // small skid right 0
		8, 8,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x18, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
		0x40, 0x27, 0x27, 0x18, 0x27, 0x27, 0x18, 0x27,
		0x40, 0x27, 0x27, 0x18, 0x27, 0x27, 0x18, 0x18,
		0x40, 0x40, 0x27, 0x27, 0x18, 0x27, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x16, 0x16, 0x16, 0x18, 0x18,
		0x40, 0x40, 0x16, 0x16, 0x27, 0x27, 0x27, 0x18,
	};
	uint8_t tile19[66] = { // small skid right 1
		8, 8,
		0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40,
		0x27, 0x18, 0x27, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x27, 0x27, 0x27, 0x40, 0x40, 0x40,
		0x27, 0x27, 0x18, 0x18, 0x27, 0x27, 0x40, 0x40,
		0x27, 0x27, 0x27, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x18, 0x16, 0x27, 0x27, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40,
	};
	uint8_t tile1a[66] = { // small skid right 2
		8, 8,
		0x40, 0x40, 0x16, 0x18, 0x27, 0x27, 0x27, 0x18,
		0x40, 0x40, 0x16, 0x16, 0x16, 0x27, 0x27, 0x18,
		0x40, 0x40, 0x40, 0x16, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x16, 0x18, 0x18, 0x18, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x18,
		0x40, 0x18, 0x40, 0x18, 0x16, 0x16, 0x18, 0x18,
		0x40, 0x18, 0x18, 0x18, 0x18, 0x18, 0x16, 0x40,
		0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40,
	};
	uint8_t tile1b[66] = { // small skid right 3
		8, 8,
		0x18, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
	};
	
	uint8_t tile1c[66] = { // small skid left 0
		8, 8,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x27, 0x18, 0x27,
		0x40, 0x40, 0x40, 0x27, 0x27, 0x27, 0x27, 0x27,
		0x40, 0x40, 0x27, 0x27, 0x18, 0x18, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x27, 0x27, 0x27,
		0x40, 0x40, 0x40, 0x40, 0x27, 0x27, 0x16, 0x18,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x16, 0x16,
	};
	uint8_t tile1d[66] = { // small skid left 1
		8, 8,
		0x16, 0x16, 0x16, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x18, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40,
		0x27, 0x18, 0x27, 0x27, 0x18, 0x27, 0x27, 0x40,
		0x18, 0x18, 0x27, 0x27, 0x18, 0x27, 0x27, 0x40,
		0x27, 0x27, 0x27, 0x18, 0x27, 0x27, 0x40, 0x40,
		0x18, 0x18, 0x16, 0x16, 0x16, 0x40, 0x40, 0x40,
		0x18, 0x27, 0x27, 0x27, 0x16, 0x16, 0x40, 0x40,
	};
	uint8_t tile1e[66] = { // small skid left 2
		8, 8,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x18,
		0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x18,
		0x40, 0x40, 0x40, 0x40, 0x18, 0x18, 0x18, 0x18,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x16, 0x16,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x16, 0x18,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
	};
	uint8_t tile1f[66] = { // small skid left 3
		8, 8,
		0x18, 0x27, 0x27, 0x27, 0x18, 0x16, 0x40, 0x40,
		0x18, 0x27, 0x27, 0x16, 0x16, 0x16, 0x40, 0x40,
		0x16, 0x16, 0x16, 0x16, 0x16, 0x40, 0x40, 0x40,
		0x16, 0x18, 0x18, 0x18, 0x16, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x18, 0x18, 0x40, 0x40, 0x40, 0x40,
		0x18, 0x18, 0x16, 0x16, 0x18, 0x40, 0x18, 0x40,
		0x40, 0x16, 0x18, 0x18, 0x18, 0x18, 0x18, 0x40,
		0x40, 0x40, 0x18, 0x18, 0x18, 0x18, 0x40, 0x40,
	};
	
	uint16_t i;
	
	for(i = 0; i < 66; i++) {sprites[0x00][i] = tile00[i];} // small idle right
	for(i = 0; i < 66; i++) {sprites[0x01][i] = tile01[i];}
	for(i = 0; i < 66; i++) {sprites[0x02][i] = tile02[i];}
	for(i = 0; i < 66; i++) {sprites[0x03][i] = tile03[i];}
	
	for(i = 0; i < 66; i++) {sprites[0x04][i] = tile04[i];} // small idle left
	for(i = 0; i < 66; i++) {sprites[0x05][i] = tile05[i];}
	
	for(i = 0; i < 66; i++) {sprites[0x06][i] = tile06[i];} // small run 0 right
	for(i = 0; i < 66; i++) {sprites[0x07][i] = tile07[i];}
	for(i = 0; i < 66; i++) {sprites[0x08][i] = tile08[i];}
	for(i = 0; i < 66; i++) {sprites[0x09][i] = tile09[i];}
	
	for(i = 0; i < 66; i++) {sprites[0x0a][i] = tile0a[i];} // small run 1 right
	for(i = 0; i < 66; i++) {sprites[0x0b][i] = tile0b[i];}
	for(i = 0; i < 66; i++) {sprites[0x0c][i] = tile0c[i];}
	
	for(i = 0; i < 66; i++) {sprites[0x0d][i] = tile0d[i];} // small run 2 right
	for(i = 0; i < 66; i++) {sprites[0x0e][i] = tile0e[i];}
	
	for(i = 0; i < 66; i++) {sprites[0x0f][i] = tile0f[i];} // small run 0 left
	for(i = 0; i < 66; i++) {sprites[0x10][i] = tile10[i];}
	for(i = 0; i < 66; i++) {sprites[0x11][i] = tile11[i];}
	for(i = 0; i < 66; i++) {sprites[0x12][i] = tile12[i];}
	
	for(i = 0; i < 66; i++) {sprites[0x13][i] = tile13[i];} // small run 1 left
	for(i = 0; i < 66; i++) {sprites[0x14][i] = tile14[i];}
	for(i = 0; i < 66; i++) {sprites[0x15][i] = tile15[i];}
	
	for(i = 0; i < 66; i++) {sprites[0x16][i] = tile16[i];} // small run 2 left
	for(i = 0; i < 66; i++) {sprites[0x17][i] = tile17[i];}
	
	for(i = 0; i < 66; i++) {sprites[0x18][i] = tile18[i];} // small skid right
	for(i = 0; i < 66; i++) {sprites[0x19][i] = tile19[i];}
	for(i = 0; i < 66; i++) {sprites[0x1a][i] = tile1a[i];}
	for(i = 0; i < 66; i++) {sprites[0x1b][i] = tile1b[i];}
	
	for(i = 0; i < 66; i++) {sprites[0x1c][i] = tile1c[i];} // small skid left
	for(i = 0; i < 66; i++) {sprites[0x1d][i] = tile1d[i];}
	for(i = 0; i < 66; i++) {sprites[0x1e][i] = tile1e[i];}
	for(i = 0; i < 66; i++) {sprites[0x1f][i] = tile1f[i];}
}

void drawString(char* string, uint16_t sx, uint16_t sy) {
	uint16_t i;
	
	for(i = 0; i < strlen(string); i++) {
		if(string[i] >= '0' && string[i] <= '9') {gfx_TransparentSprite((gfx_sprite_t*)testTiles[string[i] - '0' + 1], sx + i * 8, sy);}
		if(toupper(string[i]) >= 'A' && toupper(string[i]) <= 'Z') {gfx_TransparentSprite((gfx_sprite_t*)tiles[toupper(string[i]) - 'A' + 10 + 1], sx + i * 8, sy);}
		if(string[i] == '-') {gfx_TransparentSprite((gfx_sprite_t*)tiles[string[i] - '-' + 0x28 + 1], sx + i * 8, sy);}
		if(string[i] == '*') {gfx_TransparentSprite((gfx_sprite_t*)tiles[string[i] - '*' + 0x29 + 1], sx + i * 8, sy);}
		if(string[i] == '!') {gfx_TransparentSprite((gfx_sprite_t*)tiles[string[i] - '!' + 0x2b + 1], sx + i * 8, sy);}
	}
}