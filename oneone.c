#include <stdint.h>
#include <stdlib.h>

#include "oneone.h"

uint16_t width = 40; // level width
uint16_t height = 15; // level height

//uint16_t x; // screen x
//uint32_t mx; // mario's x position (1/256 of a pixel)
//uint32_t my; // mario's y position (1/256 of a pixel)

gfx_tilemap_t tilemap;

uint8_t level[600];

uint16_t blocks;
uint16_t xBlocks[80]; // width
uint16_t yBlocks[80]; // width

void newBlock(uint16_t bx, uint16_t by, uint16_t i);

void oneone() {
	uint8_t bush0[8] = {0x24, 0x36, 0x37, 0x36, 0x37, 0x36, 0x37, 0x24};
	uint8_t bush1[8] = {0x35, 0x25, 0x25, 0x25, 0x25, 0x25, 0x25, 0x38};
	uint8_t bush2[4] = {0x24, 0x36, 0x37, 0x24};
	uint8_t bush3[4] = {0x35, 0x25, 0x25, 0x38};
	uint8_t bush4[6] = {0x24, 0x36, 0x37, 0x36, 0x37, 0x24};
	uint8_t bush5[6] = {0x35, 0x25, 0x25, 0x25, 0x25, 0x38};
	uint8_t hill0[10] = {0x24, 0x24, 0x24, 0x24, 0x31, 0x32};
	uint8_t hill1[10] = {0x24, 0x24, 0x24, 0x30, 0x26, 0x34, 0x33};
	uint8_t hill2[10] = {0x24, 0x24, 0x30, 0x26, 0x26, 0x26, 0x26, 0x33};
	uint8_t hill3[10] = {0x24, 0x30, 0x26, 0x34, 0x26, 0x26, 0x34, 0x26, 0x33};
	uint8_t hill4[10] = {0x30, 0x26, 0x26, 0x26, 0x26, 0x26, 0x26, 0x26, 0x26, 0x33};
	uint8_t cloud0[4] = {0x24, 0x36, 0x37, 0x24};
	uint8_t cloud1[4] = {0x35, 0x25, 0x25, 0x38};
	uint8_t cloud2[4] = {0x35, 0x25, 0x25, 0x38};
	uint8_t cloud3[8] = {0x24, 0x36, 0x37, 0x36, 0x37, 0x36, 0x37, 0x24};
	uint8_t cloud4[8] = {0x35, 0x25, 0x25, 0x25, 0x25, 0x25, 0x25, 0x38};
	uint8_t cloud6[6] = {0x24, 0x36, 0x37, 0x36, 0x37, 0x24};
	uint8_t cloud7[6] = {0x35, 0x25, 0x25, 0x25, 0x25, 0x38};
	uint8_t ground[4] = {0xb4, 0xb5, 0xb6, 0xb7};
	
	uint16_t i;
	
	width = 40;
	height = 15;
	
	mx = 40 * 128; // pixel position * 128
	my = 193 * 128; // pixel position * 128
	
	for(i = 0; i < width; i++) {
		level[width * 13 + i] = 0x01;
		level[width * 14 + i] = 0x01;
	}
	
	blocks = 80;
	
	for(i = 0; i < blocks; i += 2) {
		newBlock(i + 2, 13, i);
		newBlock(i + 2, 14, i + 1);
	}
}

void newBlock(uint16_t bx, uint16_t by, uint16_t i) {
	xBlocks[i] = bx;
	yBlocks[i] = by;
}